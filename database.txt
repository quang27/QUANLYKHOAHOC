
CREATE database QLKHOAHOC
USE [QLKHOAHOC]
GO

CREATE TABLE [dbo].[GIANGVIEN](
	[ID] [int] IDENTITY(1,1) NOT NULL,
	[name] [nvarchar](50) NULL,
	[telephone] [nchar](20) NULL,
	[address] [nvarchar](100) NULL,
	[birthday] [date] NULL,
	[img] [nvarchar](350) NULL,
	[status] [int] NULL,
 CONSTRAINT [PK_GIANGVIEN] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
CREATE TABLE [dbo].[KHOAHOC](
	[ID] [int] IDENTITY(1,1) NOT NULL,
	[name] [nvarchar](50) NULL,
	[status] [int] NULL,
 CONSTRAINT [PK_KHOAHOC] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
CREATE TABLE [dbo].[LOPHOC](
	[ID] [int] IDENTITY(1,1) NOT NULL,
	[name] [nvarchar](50) NULL,
	[status] [int] NULL,
	[startdate] [date] NULL,
	[idkhoahoc] [int] NULL,
 CONSTRAINT [PK_LOPHOC] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[LOPHOC]  WITH CHECK ADD  CONSTRAINT [FK_LOPHOC_KHOAHOC] FOREIGN KEY([idkhoahoc])
REFERENCES [dbo].[KHOAHOC] ([ID])
GO

ALTER TABLE [dbo].[LOPHOC] CHECK CONSTRAINT [FK_LOPHOC_KHOAHOC]
GO
CREATE TABLE [dbo].[SINHVIEN](
	[ID] [int] IDENTITY(1,1) NOT NULL,
	[name] [nvarchar](50) NULL,
	[telephone] [nchar](20) NULL,
	[address] [nvarchar](100) NULL,
	[birthday] [date] NULL,
	[img] [nvarchar](350) NULL,
	[status] [int] NULL,
 CONSTRAINT [PK_SINHVIEN] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
CREATE TABLE [dbo].[LOPGIANGVIEN](
	[ID] [int] IDENTITY(1,1) NOT NULL,
	[idgiangvien] [int] NULL,
	[idlophoc] [int] NULL,
 CONSTRAINT [PK_LOPGIANGVIEN] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[LOPGIANGVIEN]  WITH CHECK ADD  CONSTRAINT [FK_LOPGIANGVIEN_GIANGVIEN] FOREIGN KEY([idgiangvien])
REFERENCES [dbo].[GIANGVIEN] ([ID])
GO

ALTER TABLE [dbo].[LOPGIANGVIEN] CHECK CONSTRAINT [FK_LOPGIANGVIEN_GIANGVIEN]
GO

ALTER TABLE [dbo].[LOPGIANGVIEN]  WITH CHECK ADD  CONSTRAINT [FK_LOPGIANGVIEN_LOPHOC] FOREIGN KEY([idlophoc])
REFERENCES [dbo].[LOPHOC] ([ID])
GO

ALTER TABLE [dbo].[LOPGIANGVIEN] CHECK CONSTRAINT [FK_LOPGIANGVIEN_LOPHOC]
GO

CREATE TABLE [dbo].[LOPSINHVIEN](
	[ID] [int] IDENTITY(1,1) NOT NULL,
	[idsinhvien] [int] NULL,
	[idlophoc] [int] NULL,
 CONSTRAINT [PK_LOPSINHVIEN] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[LOPSINHVIEN]  WITH CHECK ADD  CONSTRAINT [FK_LOPSINHVIEN_LOPHOC] FOREIGN KEY([idlophoc])
REFERENCES [dbo].[LOPHOC] ([ID])
GO

ALTER TABLE [dbo].[LOPSINHVIEN] CHECK CONSTRAINT [FK_LOPSINHVIEN_LOPHOC]
GO

ALTER TABLE [dbo].[LOPSINHVIEN]  WITH CHECK ADD  CONSTRAINT [FK_LOPSINHVIEN_SINHVIEN] FOREIGN KEY([idsinhvien])
REFERENCES [dbo].[SINHVIEN] ([ID])
GO

ALTER TABLE [dbo].[LOPSINHVIEN] CHECK CONSTRAINT [FK_LOPSINHVIEN_SINHVIEN]
GO
